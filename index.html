<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RealToken - Revolutionary Tokenized Insurance</title>
    <!-- Base styles first -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/layout.css">
    <!-- Components next -->
    <link rel="stylesheet" href="css/components/navigation.css">
    <link rel="stylesheet" href="css/components/hero.css">
    <link rel="stylesheet" href="css/components/cards.css">
    <link rel="stylesheet" href="css/components/forms.css">
    <link rel="stylesheet" href="css/components/footer.css">
    <!-- Section-specific styles last -->
    <link rel="stylesheet" href="css/sections/problem.css">
    <link rel="stylesheet" href="css/sections/solution.css">
    <link rel="stylesheet" href="css/sections/tokenization.css">
    <link rel="stylesheet" href="css/sections/benefits.css">
</head>
<body>
    <nav class="nav">
        <div class="container nav-container">
            <a href="#" class="nav-brand">
                <img src="images/logo.png" alt="RealToken Logo" class="logo">
                <span class="nav-logo">RealToken</span>
            </a>
            <div class="nav-links">
                <a href="#problem">The Problem</a>
                <a href="#tokenization">How It Works</a>
                <a href="#solution">Our Solution</a>
                <a href="#benefits">Benefits</a>
                <a href="#contact" class="contact-btn">Get Started</a>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="floating-orb orb-1"></div>
        <div class="floating-orb orb-2"></div>
        <div class="floating-orb orb-3"></div>
        <div class="floating-orb orb-4"></div>
        <div class="floating-orb orb-5"></div>
        <div class="container">
            <h1>Revolutionizing Insurance Through Tokenization</h1>
            <p>Rebuilding communities and protecting assets in an era of unprecedented challenges</p>
            <div class="hero-stats">
                <p class="hero-stat">$275B+ in California wildfire economic losses</p>
                <p class="hero-stat">47% of Florida hurricane claims denied in 2023</p>
                <p class="hero-stat">342% premium spike in high-risk zones</p>
                <p class="hero-stat">76,428 homeowner claims denied in Florida</p>
                <p class="hero-stat-subtitle">Traditional insurance is failing communities</p>
            </div>
        </div>
    </header>

    <section id="problem" class="problem">
        <div class="container">
            <h2>The Insurance Crisis</h2>
            
            <div class="crisis-container">
                <div class="crisis-text">
                    <p>The traditional insurance model is breaking down at an unprecedented scale, leaving millions of Americans vulnerable and unprotected.</p>
                    
                    <p class="emphasis">With damages exceeding $250B in California alone, thousands of families are unable to rebuild their lives as major insurers withdraw from high-risk areas.</p>
                    
                    <p>The current system is failing precisely when people need it most. Traditional insurers, focused on profit maximization, are abandoning communities facing climate-related risks. This isn't just a market inefficiency—it's a humanitarian crisis requiring immediate innovation.</p>
                </div>

                <div class="crisis-grid">
                    <div class="crisis-card">
                        <h3>Market Failure</h3>
                        <ul>
                            <li>7 major insurers have withdrawn from California</li>
                            <li>140,000+ Florida homes denied flood coverage</li>
                            <li>Premium increases of up to 300% in high-risk areas</li>
                            <li>Black swan events overwhelming traditional reserves</li>
                            <li>Insurance companies refusing to write new policies</li>
                        </ul>
                    </div>
                    
                    <div class="crisis-card">
                        <h3>Human Impact</h3>
                        <ul>
                            <li>Thousands of families unable to rebuild after disasters</li>
                            <li>Communities forced to rely on inadequate crowdfunding</li>
                            <li>Growing wealth inequality as property values appreciate</li>
                            <li>Essential coverage becoming unaffordable for many</li>
                            <li>Profit-driven denials of legitimate claims</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="tokenization" class="token-explanation">
        <div class="container">
            <h2>Understanding Tokenization</h2>
            <div class="tokenization-container">
                <div class="tokenization-text">
                    <p class="intro-text">Imagine turning your property into digital shares, similar to how a company offers stocks. Using Ethereum's secure blockchain technology, we convert real estate into easily tradeable digital tokens. This means you can own a piece of property for a fraction of its total cost, trade it instantly, and participate in its value growth - all while helping protect communities through shared insurance pools.</p>
                    
                    <div class="token-features">
                        <p><strong>Digital Shares</strong> Just like stocks, but for real estate</p>
                        <p><strong>Easy Access</strong> Start with any amount you choose</p>
                        <p><strong>Full Protection</strong> Backed by real property value</p>
                    </div>
                </div>

                <div class="tokenization-steps">
                    <h3>How Tokenization Works</h3>
                    <div class="steps-container">
                        <div class="step">
                            <svg width="60" height="60" viewBox="0 0 100 100">
                                <!-- House Vector -->
                                <g fill="none" stroke="#1DB954" stroke-width="3">
                                    <path d="M50 20L20 45V80H80V45L50 20Z"/>
                                    <path d="M45 80V60H55V80"/>
                                    <rect x="35" y="45" width="12" height="12"/>
                                </g>
                            </svg>
                            <div class="step-content">
                                <h4>Asset Verification</h4>
                                <p>Property validated & valued by certified assessors</p>
                            </div>
                        </div>
                        <div class="step">
                            <svg width="60" height="60" viewBox="0 0 100 100">
                                <!-- Token Vector -->
                                <g fill="none" stroke="#1DB954" stroke-width="3">
                                    <circle cx="50" cy="50" r="30"/>
                                    <path d="M50 30V70"/>
                                    <path d="M35 40H65"/>
                                </g>
                            </svg>
                            <div class="step-content">
                                <h4>Tokenization</h4>
                                <p>Smart contracts create and distribute digital shares</p>
                            </div>
                        </div>
                        <div class="step">
                            <svg width="60" height="60" viewBox="0 0 100 100">
                                <!-- Market Vector -->
                                <g fill="none" stroke="#1DB954" stroke-width="3">
                                    <path d="M20 20V80H80"/>
                                    <path d="M25 60L35 40L45 65L60 30L75 45" class="chart-line"/>
                                </g>
                            </svg>
                            <div class="step-content">
                                <h4>Distribution</h4>
                                <p>Tokens become available for trading on the platform</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="protocol-grid">
                <div class="protocol-card">
                    <div class="protocol-header">
                        <div class="protocol-icon eth-black">
                            <img src="images/ethereum/eth-black.png" alt="Ethereum Icon">
                        </div>
                        <h3>ERC-20</h3>
                    </div>
                    <p>The most common token standard, perfect for creating fungible tokens that represent equal shares of an asset.</p>
                    <ul>
                        <li>Easily tradable on exchanges</li>
                        <li>Widely supported by wallets</li>
                        <li>Ideal for fractional ownership</li>
                    </ul>
                </div>

                <div class="protocol-card">
                    <div class="protocol-header">
                        <div class="protocol-icon">
                            <img src="images/ethereum/eth.png" alt="Ethereum Icon">
                        </div>
                        <h3>ERC-721</h3>
                    </div>
                    <p>Non-fungible tokens (NFTs) for unique assets with specific characteristics and ownership history.</p>
                    <ul>
                        <li>Unique property identifiers</li>
                        <li>Individual asset tracking</li>
                        <li>Complete ownership history</li>
                    </ul>
                </div>

                <div class="protocol-card">
                    <div class="protocol-header">
                        <div class="protocol-icon eth-orange">
                            <img src="images/ethereum/eth-orange.png" alt="Ethereum Icon">
                        </div>
                        <h3>ERC-1155</h3>
                    </div>
                    <p>Hybrid protocol supporting both fungible and non-fungible tokens in a single smart contract.</p>
                    <ul>
                        <li>Multiple token types</li>
                        <li>Reduced gas costs</li>
                        <li>Flexible asset management</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="solution" class="solution">
        <div class="container">
            <h2>Our Solution: Tokenized Insurance</h2>
            <p>By leveraging Ethereum's smart contract capabilities, we're creating a decentralized insurance platform that converts real estate assets into tradeable digital shares. This enables transparent risk pooling, automated claims processing, and democratized access to property investment - all while maintaining regulatory compliance through blockchain's immutable record-keeping.</p>

            <div class="solution-overview">
                <div class="process-card">
                    <h3>How It Works</h3>
                    <div class="process-steps">
                        <div class="step-item">
                            <span class="step-number">1</span>
                            <h4>Asset Verification</h4>
                            <p>Property is verified and valued using market data and professional assessments</p>
                        </div>
                        <div class="step-item">
                            <span class="step-number">2</span>
                            <h4>Smart Contract Creation</h4>
                            <p>Legal ownership is encoded into blockchain-based smart contracts</p>
                        </div>
                        <div class="step-item">
                            <span class="step-number">3</span>
                            <h4>Token Distribution</h4>
                            <p>Property value is divided into tradeable tokens, representing fractional ownership</p>
                        </div>
                        <div class="step-item">
                            <span class="step-number">4</span>
                            <h4>Risk Pool Formation</h4>
                            <p>Tokens form part of a distributed risk pool, ensuring sustainable coverage</p>
                        </div>
                    </div>
                </div>

                <div class="advantages-grid">
                    <div class="advantage-card">
                        <h4>Sustainable Risk Management</h4>
                        <p>Unlike traditional insurers who rely solely on premiums, our model distributes risk across a global network of token holders who benefit from property appreciation.</p>
                    </div>
                    <div class="advantage-card">
                        <h4>Instant Liquidity</h4>
                        <p>Token holders can trade their positions at any time, providing immediate access to capital without the delays of traditional property sales.</p>
                    </div>
                    <div class="advantage-card">
                        <h4>Transparent Operations</h4>
                        <p>All transactions, claims, and ownership changes are recorded on the blockchain, ensuring complete transparency and trust.</p>
                    </div>
                    <div class="advantage-card">
                        <h4>Community Alignment</h4>
                        <p>Token holders share in both the responsibility of insurance and the benefits of property value appreciation, creating perfect alignment of interests.</p>
                    </div>
                </div>

                <div class="key-features">
                    <h3>Platform Features</h3>
                    <div class="features-grid">
                        <div class="feature-item">
                            <div class="feature-icon">
                                <svg width="40" height="40" viewBox="0 0 100 100">
                                    <g fill="none" stroke="#1DB954" stroke-width="3">
                                        <rect x="20" y="20" width="60" height="60" rx="8"/>
                                        <path d="M35 50l10 10 20-20"/>
                                    </g>
                                </svg>
                            </div>
                            <h4>Smart Contracts</h4>
                            <p>Automated claims processing with blockchain verification</p>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">
                                <svg width="40" height="40" viewBox="0 0 100 100">
                                    <g fill="none" stroke="#1DB954" stroke-width="3">
                                        <path d="M20 80l30-30 15 15 15-35"/>
                                        <circle cx="80" cy="30" r="4"/>
                                        <path d="M20 20h60"/>
                                        <path d="M20 50h60"/>
                                    </g>
                                </svg>
                            </div>
                            <h4>Real-time Tracking</h4>
                            <p>Live property value monitoring and adjustments</p>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">
                                <svg width="40" height="40" viewBox="0 0 100 100">
                                    <g fill="none" stroke="#1DB954" stroke-width="3">
                                        <circle cx="50" cy="50" r="30"/>
                                        <path d="M35 50h30"/>
                                        <path d="M50 35v30"/>
                                    </g>
                                </svg>
                            </div>
                            <h4>Fractional Ownership</h4>
                            <p>Start with any investment amount</p>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">
                                <svg width="40" height="40" viewBox="0 0 100 100">
                                    <g fill="none" stroke="#1DB954" stroke-width="3">
                                        <path d="M30 30h40v40h-40z"/>
                                        <path d="M20 20l60 60"/>
                                        <path d="M80 20l-60 60"/>
                                    </g>
                                </svg>
                            </div>
                            <h4>Instant Trading</h4>
                            <p>24/7 secure token exchange platform</p>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">
                                <svg width="40" height="40" viewBox="0 0 100 100">
                                    <g fill="none" stroke="#1DB954" stroke-width="3">
                                        <path d="M20 50c0-20 15-30 30-30s30 10 30 30-15 30-30 30-30-10-30-30z"/>
                                        <path d="M35 50l10 10 20-20"/>
                                    </g>
                                </svg>
                            </div>
                            <h4>Risk Management</h4>
                            <p>Transparent pool management system</p>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">
                                <svg width="40" height="40" viewBox="0 0 100 100">
                                    <g fill="none" stroke="#1DB954" stroke-width="3">
                                        <path d="M20 50c0-20 15-30 30-30s30 10 30 30-15 30-30 30-30-10-30-30z"/>
                                        <path d="M35 50l10 10 20-20"/>
                                    </g>
                                </svg>
                            </div>
                            <h4>Auto Distribution</h4>
                            <p>Automated appreciation dividends</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="benefits" class="benefits">
        <div class="container">
            <h2>Key Benefits</h2>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <div class="benefit-header">
                        <h3>Easy Investment</h3>
                        <p class="benefit-tagline">Fractional Investment</p>
                    </div>
                    <div class="benefit-highlights">
                        <div class="highlight">
                            <span class="highlight-number">$100</span>
                            <span class="highlight-text">Entry Point</span>
                        </div>
                        <div class="highlight">
                            <span class="highlight-number">24/7</span>
                            <span class="highlight-text">Access</span>
                        </div>
                    </div>
                </div>

                <div class="benefit-card">
                    <div class="benefit-header">
                        <h3>Instant Liquidity</h3>
                        <p class="benefit-tagline">Trade Anytime, Anywhere</p>
                    </div>
                    <div class="benefit-highlights">
                        <div class="highlight">
                            <span class="highlight-number">2min</span>
                            <span class="highlight-text">Settlement</span>
                        </div>
                        <div class="highlight">
                            <span class="highlight-number">100%</span>
                            <span class="highlight-text">Digital</span>
                        </div>
                    </div>
                </div>

                <div class="benefit-card">
                    <div class="benefit-header">
                        <h3>Smart Processing</h3>
                        <p class="benefit-tagline">Automated Claims & Payouts</p>
                    </div>
                    <div class="benefit-highlights">
                        <div class="highlight">
                            <span class="highlight-number">≤24h</span>
                            <span class="highlight-text">Processing</span>
                        </div>
                        <div class="highlight">
                            <span class="highlight-number">0%</span>
                            <span class="highlight-text">Manual Work</span>
                        </div>
                    </div>
                </div>

                <div class="benefit-card">
                    <div class="benefit-header">
                        <h3>Market Growth</h3>
                        <p class="benefit-tagline">US Real Estate Performance</p>
                    </div>
                    <div class="benefit-highlights">
                        <div class="highlight">
                            <span class="highlight-number">$11.9T</span>
                            <span class="highlight-text">Market Size</span>
                        </div>
                        <div class="highlight">
                            <span class="highlight-number">9.4%</span>
                            <span class="highlight-text">Annual Return</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="contact">
        <div class="container">
            <h2>Join the Revolution</h2>
            <form class="contact-form">
                <!-- Personal Information -->
                <div class="form-section">
                    <h3>Personal Information</h3>
                    <div class="form-group">
                        <label for="fullName">Full Legal Name*</label>
                        <input type="text" id="fullName" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="email">Email Address*</label>
                            <input type="email" id="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number*</label>
                            <input type="tel" id="phone" required>
                        </div>
                    </div>
                </div>

                <!-- Property Information -->
                <div class="form-section">
                    <h3>Property Details</h3>
                    <div class="form-group">
                        <label for="propertyAddress">Property Address*</label>
                        <input type="text" id="propertyAddress" placeholder="Street Address" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="propertyCity" placeholder="City" required>
                        </div>
                        <div class="form-group">
                            <input type="text" id="propertyState" placeholder="State" required>
                        </div>
                        <div class="form-group">
                            <input type="text" id="propertyZip" placeholder="ZIP Code" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="propertyValue">Estimated Property Value*</label>
                            <input type="number" id="propertyValue" placeholder="USD" required>
                        </div>
                        <div class="form-group">
                            <label for="propertyType">Property Type*</label>
                            <select id="propertyType" required>
                                <option value="">Select Type</option>
                                <option value="residential">Residential</option>
                                <option value="commercial">Commercial</option>
                                <option value="mixed">Mixed Use</option>
                                <option value="land">Land</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Ownership Structure -->
                <div class="form-section">
                    <h3>Ownership Information</h3>
                    <div class="form-group">
                        <label for="ownershipType">Current Ownership Structure*</label>
                        <select id="ownershipType" required>
                            <option value="">Select Structure</option>
                            <option value="individual">Individual</option>
                            <option value="joint">Joint Ownership</option>
                            <option value="llc">LLC</option>
                            <option value="trust">Trust</option>
                            <option value="corporation">Corporation</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tokenizationExperience">Have you tokenized assets before?*</label>
                        <select id="tokenizationExperience" required>
                            <option value="">Select Answer</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>
                    </div>
                </div>

                <!-- Additional Information -->
                <div class="form-section">
                    <h3>Additional Details</h3>
                    <div class="form-group">
                        <label for="comments">Additional Information or Questions</label>
                        <textarea id="comments" rows="4" placeholder="Tell us more about your tokenization goals..."></textarea>
                    </div>
                </div>

                <!-- Terms Acceptance -->
                <div class="checkbox-group">
                    <input type="checkbox" id="terms" required>
                    <label for="terms">
                        I agree to the terms and conditions
                        <span>By checking this box, you consent to property verification and agree to our privacy policy</span>
                    </label>
                </div>

                <button type="submit">Submit Application</button>
            </form>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <img src="images/logo.png" alt="RealToken Logo">
                        <span>RealToken</span>
                    </div>
                    <p>Revolutionizing insurance through blockchain technology and asset tokenization. Making property protection accessible, transparent, and community-driven.</p>
                </div>

                <div class="footer-links">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#problem">The Problem</a></li>
                        <li><a href="#tokenization">How It Works</a></li>
                        <li><a href="#solution">Our Solution</a></li>
                        <li><a href="#benefits">Benefits</a></li>
                        <li><a href="#contact">Get Started</a></li>
                    </ul>
                </div>

                <div class="footer-contact">
                    <h4>Contact Us</h4>
                    <p>Email: info@realtoken.com</p>
                    <p>Support: 24/7 Available</p>
                    <p>Location: Los Angeles, CA</p>
                </div>
            </div>

            <div class="footer-bottom">
                <p>© 2024 RealToken. All rights reserved.</p>
                <p class="disclaimer">Operating under applicable insurance and securities regulations.</p>
            </div>
        </div>
    </footer>

    <!-- AI Chat Interface -->
    <div class="chat-container" style="display: none;">
        <div class="chat-header">
            <h3>RealToken Assistant</h3>
            <button id="closeChat" class="close-btn">&times;</button>
        </div>
        <div id="chatMessages" class="chat-messages"></div>
        <div class="chat-input">
            <input type="text" id="userInput" placeholder="Ask about tokenization...">
            <button id="sendMessage">Send</button>
        </div>
        <div class="chat-footer">
            <span id="remainingMessages">5 messages remaining</span>
        </div>
    </div>
    <button id="openChat" class="chat-trigger">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z" fill="currentColor"/>
        </svg>
    </button>

    <style>
        .chat-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 380px;
            height: 600px;
            background: var(--dark-gray);
            border-radius: 15px;
            border: 1px solid rgba(29, 185, 84, 0.15);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .chat-header {
            padding: 20px;
            background: linear-gradient(
                90deg,
                var(--medium-gray) 0%,
                var(--dark-gray) 100%
            );
            color: var(--text);
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(29, 185, 84, 0.1);
        }

        .chat-header h3 {
            color: var(--secondary);
            margin: 0;
            font-size: 1.2em;
        }

        .close-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 5px;
            line-height: 1;
        }

        .close-btn:hover {
            color: var(--secondary);
            transform: rotate(90deg);
        }

        .chat-messages {
            flex-grow: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .chat-input {
            padding: 20px;
            display: flex;
            gap: 12px;
            border-top: 1px solid rgba(29, 185, 84, 0.1);
        }

        .chat-input input {
            flex-grow: 1;
            padding: 12px 15px;
            background: var(--medium-gray);
            border: 1px solid rgba(29, 185, 84, 0.1);
            border-radius: 8px;
            color: var(--text);
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .chat-input input:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 2px rgba(29, 185, 84, 0.1);
        }

        .chat-input button {
            padding: 12px 20px;
            background: var(--secondary);
            color: var(--primary);
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chat-input button:hover {
            background: #1ed760;
            transform: translateY(-2px);
        }

        .chat-trigger {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: var(--secondary);
            color: var(--primary);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(29, 185, 84, 0.3);
        }

        .chat-trigger:hover {
            transform: scale(1.1);
            background: #1ed760;
        }

        .message {
            padding: 15px;
            border-radius: 12px;
            max-width: 85%;
            position: relative;
        }

        .user-message {
            background: rgba(29, 185, 84, 0.1);
            margin-left: auto;
            color: var(--text);
            border: 1px solid rgba(29, 185, 84, 0.2);
        }

        .ai-message {
            background: var(--medium-gray);
            margin-right: auto;
            color: var(--text);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chat-footer {
            padding: 15px;
            text-align: center;
            color: var(--text-secondary);
            border-top: 1px solid rgba(29, 185, 84, 0.1);
            font-size: 0.9em;
        }

        /* Custom Scrollbar */
        .chat-messages::-webkit-scrollbar {
            width: 8px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: var(--dark-gray);
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: rgba(29, 185, 84, 0.2);
            border-radius: 4px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: rgba(29, 185, 84, 0.3);
        }

        /* Message Animation */
        @keyframes messageAppear {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message {
            animation: messageAppear 0.3s ease forwards;
        }
    </style>

    <script>
        // Replace environment variable access with a direct API key configuration
        const PERPLEXITY_API_KEY = 'YOUR_PERPLEXITY_API_KEY'; // Replace this with your actual API key
        let messageCount = 0;
        const MAX_MESSAGES = 5;

        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            const chatContainer = document.querySelector('.chat-container');
            const openChatBtn = document.getElementById('openChat');
            const closeChatBtn = document.getElementById('closeChat');
            const sendMessageBtn = document.getElementById('sendMessage');
            const userInput = document.getElementById('userInput');

            // Initialize chat UI
            openChatBtn.addEventListener('click', () => {
                chatContainer.style.display = 'flex';
                openChatBtn.style.display = 'none';
                // Add welcome message
                addMessageToChat("Hello! I'm your AI assistant. I'd be happy to explain more about tokenization, our platform, and how we're revolutionizing the insurance industry. What would you like to know?", 'ai');
            });

            closeChatBtn.addEventListener('click', () => {
                chatContainer.style.display = 'none';
                openChatBtn.style.display = 'block';
            });

            // Chat functionality
            sendMessageBtn.addEventListener('click', sendMessage);
            userInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendMessage();
            });

            async function sendMessage() {
                if (messageCount >= MAX_MESSAGES) {
                    alert('You have reached the maximum number of messages for this session. Please refresh the page to start a new session.');
                    return;
                }

                const message = userInput.value.trim();
                if (!message) return;

                // Add user message to chat
                addMessageToChat(message, 'user');
                userInput.value = '';

                // Prepare context for the AI
                const context = `You are an AI assistant for RealToken, a tokenization platform focused on revolutionizing insurance. 
                Be enthusiastic about tokenization and its benefits. Key points to emphasize:
                - How tokenization makes insurance more accessible and efficient
                - The benefits of blockchain technology in insurance
                - Our solution to the current insurance crisis
                - The advantages of fractional ownership
                - The security and transparency of our platform
                Always maintain a professional but friendly tone. Current user message: ${message}`;

                try {
                    const response = await fetch('https://api.perplexity.ai/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${PERPLEXITY_API_KEY}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            model: 'mixtral-8x7b-instruct',
                            messages: [{
                                role: 'system',
                                content: context
                            }, {
                                role: 'user',
                                content: message
                            }]
                        })
                    });

                    if (!response.ok) {
                        throw new Error('API request failed');
                    }

                    const data = await response.json();
                    const aiResponse = data.choices[0].message.content;
                    addMessageToChat(aiResponse, 'ai');
                    
                    messageCount++;
                    updateRemainingMessages();
                } catch (error) {
                    console.error('Error:', error);
                    addMessageToChat('I apologize, but I encountered an error. Please try again in a moment.', 'ai');
                }
            }

            function addMessageToChat(message, sender) {
                const chatMessages = document.getElementById('chatMessages');
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message', `${sender}-message`);
                messageDiv.textContent = message;
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            function updateRemainingMessages() {
                const remaining = MAX_MESSAGES - messageCount;
                document.getElementById('remainingMessages').textContent = 
                    `${remaining} message${remaining !== 1 ? 's' : ''} remaining`;
            }
        });
    </script>
</body>
</html> 